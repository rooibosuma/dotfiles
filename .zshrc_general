#LANG
export LANG=ja_JP.UTF-8
export LANG

HISTFILE=$HOME/.zsh-history
HISTSIZE=100000
SAVEHIST=100000

#svn
export SVN_EDITOR=vim
export ANT_HOME=$HOME/bin/ant

#screen message
if [ $TERM != "screen" ]; then
	source ~/.message
	echo "-- attached sessions----------------------------------------------------------"
	#tmux ls
	screen -ls
	echo "------------------------------------------------------------------------------"
fi 

#alias =================================================================================
# command
alias ls='ls --color=auto'
alias sl='ls --color=auto'
alias l='ls --color=auto'
alias ll="ls -lh"
alias v="view"
alias less="lv -c"
alias diff="colordiff"
#screen
alias sc="screen -U -D -RR"
#svn
alias sdiff="svn diff --diff-cmd ~/.subversion/svndiff.sh"
alias st="svn st -u"
#vim
alias -g V="| vim -"

#alias =================================================================================

#prompt
local YELLOW=$'%{\e[1;33m%}'
local DEFAULT=$'%{\e[1;m%}'
local GREEN=$'%{\e[1;32m%}'
PROMPT=$GREEN'${USER}@${HOST}:'$YELLOW'%~'$''$DEFAULT'%(!.#.$) '
setopt PROMPT_SUBST

#color
export LSCOLORS=gxfxcxdxbxegedabagacad
export LS_COLORS='di=01;36:ln=01;36:so=01;32:ex=01;31:bd=46;34:cd=43;34:su=41;30:sg=46;30:tw=42;30:ow=43;30'
export ZLS_COLORS=$LS_COLORS
zstyle ':completion:*:default' list-colors ${(s.:.)LS_COLORS}

# emacsé¢¨ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰
bindkey -e

stty erase '^H' # Ctrl+H ã« 1 æ–‡å­—å‰Šé™¤
stty intr  '^C' # Ctrl+C ã«å‰²ã‚Šè¾¼ã¿
stty susp  '^Z' # Ctrl+Z ã«ã‚µã‚¹ãƒšãƒ³ãƒ‰

#Ctrl-D ã§ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã™ã‚‹ã®ã‚’æŠ‘åˆ¶ã™ã‚‹
setopt IGNORE_EOF
#è£œå®Œæ©Ÿèƒ½ã®å¼·åŒ–
autoload -U compinit
compinit
#è£œå®Œæ™‚ã«å¤§å°æ–‡å­—ã‚’åŒºåˆ¥ã—ãªã„                                                                                         
zstyle ':completion:*' matcher-list 'm:{a-z}={A-Z}'
zstyle ':completion:*' menu select=1
#ã‚³ã‚¢ãƒ€ãƒ³ãƒ—ã‚µã‚¤ã‚ºã‚’åˆ¶é™
limit coredumpsize 102400
#å‡ºåŠ›ã®æ–‡å­—åˆ—æœ«å°¾ã«æ”¹è¡Œã‚³ãƒ¼ãƒ‰ãŒç„¡ã„å ´åˆã§ã‚‚è¡¨ç¤º
unsetopt promptcr
#è‰²ã‚’ä½¿ã†
setopt prompt_subst
## ãƒ“ãƒ¼ãƒ—ã‚’é³´ã‚‰ã•ãªã„
setopt nobeep
## å†…éƒ¨ã‚³ãƒãƒ³ãƒ‰ jobs ã®å‡ºåŠ›ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ jobs -l ã«ã™ã‚‹
setopt long_list_jobs
## è£œå®Œå€™è£œä¸€è¦§ã§ãƒ•ã‚¡ã‚¤ãƒ«ã®ç¨®åˆ¥ã‚’ãƒãƒ¼ã‚¯è¡¨ç¤º
setopt list_types
## ã‚µã‚¹ãƒšãƒ³ãƒ‰ä¸­ã®ãƒ—ãƒ­ã‚»ã‚¹ã¨åŒã˜ã‚³ãƒãƒ³ãƒ‰åã‚’å®Ÿè¡Œã—ãŸå ´åˆã¯ãƒªã‚¸ãƒ¥ãƒ¼ãƒ 
setopt auto_resume
## è£œå®Œå€™è£œã‚’ä¸€è¦§è¡¨ç¤º
setopt auto_list
## ç›´å‰ã¨åŒã˜ã‚³ãƒãƒ³ãƒ‰ã‚’ãƒ’ã‚¹ãƒˆãƒªã«è¿½åŠ ã—ãªã„
setopt hist_ignore_dups
## cd æ™‚ã«è‡ªå‹•ã§ push
#setopt autopushd
## åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ pushd ã—ãªã„
setopt pushd_ignore_dups
## ãƒ•ã‚¡ã‚¤ãƒ«åã§ #, ~, ^ ã® 3 æ–‡å­—ã‚’æ­£è¦è¡¨ç¾ã¨ã—ã¦æ‰±ã†
setopt extended_glob
## TAB ã§é †ã«è£œå®Œå€™è£œã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹
setopt auto_menu
## zsh ã®é–‹å§‹, çµ‚äº†æ™‚åˆ»ã‚’ãƒ’ã‚¹ãƒˆãƒªãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã‚€
setopt extended_history
## =command ã‚’ command ã®ãƒ‘ã‚¹åã«å±•é–‹ã™ã‚‹
setopt equals
## --prefix=/usr ãªã©ã® = ä»¥é™ã‚‚è£œå®Œ
setopt magic_equal_subst
## ãƒ’ã‚¹ãƒˆãƒªã‚’å‘¼ã³å‡ºã—ã¦ã‹ã‚‰å®Ÿè¡Œã™ã‚‹é–“ã«ä¸€æ—¦ç·¨é›†
setopt hist_verify
# ãƒ•ã‚¡ã‚¤ãƒ«åã®å±•é–‹ã§è¾æ›¸é †ã§ã¯ãªãæ•°å€¤çš„ã«ã‚½ãƒ¼ãƒˆ
setopt numeric_glob_sort
## å‡ºåŠ›æ™‚8ãƒ“ãƒƒãƒˆã‚’é€šã™
setopt print_eight_bit
## ãƒ’ã‚¹ãƒˆãƒªã‚’å…±æœ‰
setopt share_history
## è£œå®Œå€™è£œã®ã‚«ãƒ¼ã‚½ãƒ«é¸æŠã‚’æœ‰åŠ¹ã«
zstyle ':completion:*:default' menu select=1
## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã ã‘ã§ cd
setopt auto_cd
## ã‚«ãƒƒã‚³ã®å¯¾å¿œãªã©ã‚’è‡ªå‹•çš„ã«è£œå®Œ
setopt auto_param_keys
## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã®è£œå®Œã§æœ«å°¾ã® / ã‚’è‡ªå‹•çš„ã«ä»˜åŠ ã—ã€æ¬¡ã®è£œå®Œã«å‚™ãˆã‚‹
setopt auto_param_slash
## ã‚¹ãƒšãƒ«ãƒã‚§ãƒƒã‚¯
setopt correct

## for screen
if [ "$TERM" = "screen" ]; then
	preexec() {
		# see [zsh-workers:13180]
		# http://www.zsh.org/mla/workers/2000/msg03993.html
		emulate -L zsh
		local -a cmd; cmd=(${(z)2})
		echo -n "k$cmd[1]:t\\"
	}

	precmd() { echo -n "k`basename $PWD`\\" }
fi
function chpwd() { ls }
